{% extends "base.html" %}

{% block title %}创建课程 - 课堂互动平台{% endblock %}

{% block content %}
<style>
/* 与 course_list / admin_dashboard 视觉一致的样式（仅样式，不改功能） */
/* 不要在局部页面隐藏全局 header（已移除） */
/* header, .navbar, .site-header, .topbar, .navbar-default { display: none !important; } */

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: linear-gradient(135deg,#1e88e5 0%, #6ab7ff 50%, #6dd3c9 100%);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  box-sizing: border-box;
}

/* 容器与白卡 */
.body-hero {
  padding: 12px 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  width: 100%;
}
.main-panel {
  width: calc(100vw - 32px);
  max-width: none;
  margin: 18px auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.995), #ffffff);
  border-radius: 14px;
  padding: 28px 36px;
  box-shadow: 0 40px 90px rgba(8,35,70,0.12);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  overflow: auto;
}

/* logo 行高亮（与页面适配且不突兀） */
.logo-highlight {
  display: flex;
  align-items: center;
  gap: 18px;
  padding: 12px;
  border-radius: 10px;
  background: linear-gradient(90deg, rgba(240,255,255,0.85), rgba(255,255,255,0.78));
  box-shadow: 0 6px 18px rgba(12,45,80,0.04);
  margin-bottom: 18px;
}

/* 顶部品牌与导航（logo + nav links + user dropdown） */
.brand { display:flex; align-items:center; gap:14px; }
.brand .logo { width:56px; height:56px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:#fff; box-shadow: 0 6px 20px rgba(12,45,80,0.05); }
.brand .wordmark { font-size:22px; font-weight:800; color:#1187d6; }

/* 主导航链接 */
.nav-links { display:flex; gap:14px; align-items:center; margin-left:18px; }
.nav-links a {
  color:#1565c0;
  text-decoration:none;
  font-weight:600;
  font-size:15px;
  padding:8px 12px;
  border-radius:8px;
  background: transparent;
  border: 1px solid rgba(0,0,0,0.02);
}
.nav-links a:hover { background: rgba(255,255,255,0.14); }

/* 右侧用户信息/下拉 */
.user-area { margin-left: auto; display:flex; align-items:center; gap:12px; }
.dropdown-toggle { color:#1565c0; font-weight:700; background:transparent; border:none; }

/* 表单卡片样式（与 course_list 保持一致） */
.form-wrap {
  width: 100%;
  max-width: 920px;
  margin: 8px auto 0;
}
.form-card {
  background: rgba(255,255,255,1);
  border-radius: 12px;
  padding: 22px;
  box-shadow: 0 8px 30px rgba(12,45,80,0.04);
  border: 1px solid rgba(0,0,0,0.03);
}

/* 标题区 */
.form-card .card-header { background: transparent; border-bottom:none; padding-bottom:8px; }
.form-card .card-body { padding-top: 0; }

/* 按钮排版 */
.d-flex.gap-2 { display:flex; gap:12px; align-items:center; }

/* 响应式 */
@media (max-width: 992px) {
  .main-panel { padding:20px; width: calc(100vw - 28px); }
  .brand .wordmark { font-size:20px; }
  .logo-highlight { flex-direction:column; align-items:flex-start; gap:10px; }
  .nav-links { margin-left: 0; flex-wrap:wrap; }
}
@media (max-width: 576px) {
  .main-panel { padding:16px; width: calc(100vw - 20px); }
}
</style>

<div class="body-hero">
  <div class="main-panel">

    <!-- 顶部由 base.html 的 logo-highlight 统一渲染，页面内不再重复输出 -->
    
    <!-- 表单主体（保留原有 create_course 功能与字段） -->
    <div class="form-wrap">
      <div class="form-card">
        <div class="card-header">
          <h4><i class="bi bi-plus-circle"></i> Create Course</h4>
        </div>
        <div class="card-body">
          <form method="POST">
              {{ form.hidden_tag() }}
              
              <div class="mb-3">
                  {{ form.name.label(class="form-label") }}
                  {{ form.name(class="form-control") }}
                  {% if form.name.errors %}
                      <div class="text-danger">
                          {% for error in form.name.errors %}
                              <small>{{ error }}</small>
                          {% endfor %}
                      </div>
                  {% endif %}
              </div>
              
              <div class="mb-3">
                  {{ form.semester.label(class="form-label") }}
                  {{ form.semester(class="form-control", placeholder="For example:2025fall") }}
                  {% if form.semester.errors %}
                      <div class="text-danger">
                          {% for error in form.semester.errors %}
                              <small>{{ error }}</small>
                          {% endfor %}
                      </div>
                  {% endif %}
              </div>
              
              <div class="mb-3">
                  {{ form.description.label(class="form-label") }}
                  {{ form.description(class="form-control", rows="4", placeholder="Course Description(optional)") }}
                  {% if form.description.errors %}
                      <div class="text-danger">
                          {% for error in form.description.errors %}
                              <small>{{ error }}</small>
                          {% endfor %}
                      </div>
                  {% endif %}
              </div>
              
              <div class="d-flex gap-2">
                  {{ form.submit(class="btn btn-primary") }}
                  <a href="{{ url_for('courses.list_courses') }}" class="btn btn-secondary">Cancel</a>
              </div>
          </form>
        </div>
      </div>
    </div>

  </div>
</div>
{% endblock %}

